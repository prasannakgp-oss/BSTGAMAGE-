<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BST Academy - Prabath Gamage</title>
    <meta name="description"
        content="Advanced Level Biosystem Technology Tuition by Prabath Gamage. Join the best BST class for guaranteed results.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;700;800&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        bst: {
                            alien: '#ccff00',
                            brand: '#22c55e',
                            dark: '#0a0f1c',
                            panel: '#111827',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Outfit', 'sans-serif'],
                    },
                    animation: {
                        'spin-slow': 'spin 8s linear infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'crossfade': 'crossfade 12s ease-in-out infinite',
                    },
                    keyframes: {
                        crossfade: {
                            '0%, 100%': { opacity: '0' },
                            '5%, 35%': { opacity: '1' },
                            '40%': { opacity: '0' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .hero-glow {
            background: radial-gradient(circle at center, rgba(34, 197, 94, 0.15) 0%, transparent 70%);
        }

        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0f1c;
        }

        ::-webkit-scrollbar-thumb {
            background: #22c55e;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #ccff00;
        }

        .animate-text-gradient {
            background-size: 200% auto;
            animation: textShine 3s linear infinite;
        }

        @keyframes textShine {
            to {
                background-position: 200% center;
            }
        }
    </style>

    <!-- Firebase SDK (Modular) -->
    <script type="importmap">
        {
          "imports": {
            "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"
          }
        }
    </script>
</head>

<body
    class="bg-bst-dark text-white font-sans antialiased overflow-x-hidden selection:bg-bst-alien selection:text-black">

    <!-- Navbar -->
    <nav class="fixed w-full z-50 top-0 start-0 border-b border-white/10 bg-bst-dark/90 backdrop-blur-md transition-all duration-300"
        id="navbar">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse group">
                <img src="./images/logo_ref.jpg" alt="BST Logo"
                    class="h-24 md:h-28 object-contain mix-blend-screen filter drop-shadow-[0_0_8px_rgba(34,197,94,0.5)] group-hover:drop-shadow-[0_0_12px_rgba(204,255,0,0.8)] transition-all duration-300">
            </a>
            <div class="flex md:order-2 space-x-3 md:space-x-4 rtl:space-x-reverse">
                <button onclick="openLoginModal()"
                    class="hidden md:flex items-center gap-2 text-white hover:text-bst-brand transition-all duration-300 font-medium text-sm group">
                    <i data-lucide="user" class="w-4 h-4 group-hover:scale-110 transition-transform"></i>
                    <span>Student Login</span>
                </button>
                <a href="https://wa.me/94781048790" target="_blank"
                    class="hidden md:flex items-center gap-2 text-black bg-bst-brand hover:bg-bst-alien focus:ring-4 focus:outline-none focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-300 transform hover:scale-105 shadow-lg shadow-green-500/20">
                    <i data-lucide="phone"></i>
                    <span>Join Now</span>
                </a>
                <button data-collapse-toggle="navbar-sticky" type="button"
                    class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-400 rounded-lg md:hidden hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-600"
                    aria-controls="navbar-sticky" aria-expanded="false" id="menu-toggle">
                    <span class="sr-only">Open main menu</span>
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
                <ul
                    class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-transparent dark:bg-gray-800 md:dark:bg-transparent dark:border-gray-700">
                    <li><a href="#"
                            class="block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-bst-brand md:p-0"
                            aria-current="page">Home</a></li>
                    <li><a href="#about"
                            class="block py-2 px-3 text-gray-300 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-bst-alien md:p-0 transition-colors">About</a>
                    </li>
                    <li><a href="#classes"
                            class="block py-2 px-3 text-gray-300 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-bst-alien md:p-0 transition-colors">Classes</a>
                    </li>
                    <li><a href="#results"
                            class="block py-2 px-3 text-gray-300 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-bst-alien md:p-0 transition-colors">Results</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Mobile Menu (Hidden by default) -->
        <div class="hidden md:hidden bg-bst-panel border-t border-white/10" id="mobile-menu">
            <ul class="flex flex-col p-4 font-medium space-y-2">
                <li><a href="#" class="block py-2 px-3 text-white hover:text-bst-brand rounded">Home</a></li>
                <li><a href="#about" class="block py-2 px-3 text-gray-300 hover:text-bst-brand rounded">About</a></li>
                <li><a href="#classes" class="block py-2 px-3 text-gray-300 hover:text-bst-brand rounded">Classes</a>
                </li>
                <li><a href="#results" class="block py-2 px-3 text-gray-300 hover:text-bst-brand rounded">Results</a>
                </li>
                <li>
                    <button onclick="openLoginModal()"
                        class="flex items-center gap-2 text-white border border-white/10 hover:border-bst-brand w-full py-2 px-3 rounded-lg transition-colors">
                        <i data-lucide="user" class="w-4 h-4"></i>
                        <span>Student Login</span>
                    </button>
                </li>
                <li>
                    <a href="https://wa.me/94781048790" target="_blank"
                        class="flex items-center gap-2 text-black bg-bst-brand hover:bg-bst-alien font-medium rounded-lg text-sm px-5 py-2.5 mt-2 justify-center">
                        <i data-lucide="phone" class="w-4 h-4"></i>
                        <span>Join Now</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden pt-20">
        <!-- Background Elements -->
        <div class="absolute inset-0 z-0">
            <!-- Main Background Image -->
            <div
                class="absolute inset-0 bg-[url('./images/home_bg.png')] bg-cover bg-center bg-no-repeat opacity-60 blur-[2px]">
            </div>

            <!-- Gradient Overlay for smooth transition -->
            <div class="absolute inset-0 bg-gradient-to-b from-bst-dark/90 via-bst-dark/70 to-bst-dark"></div>

            <!-- Animated Glow Orbs (kept for dynamic feel but adjusted) -->
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-bst-brand/10 rounded-full blur-[100px] animate-pulse">
            </div>
            <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-bst-alien/5 rounded-full blur-[100px] animate-pulse"
                style="animation-duration: 4s;"></div>

            <!-- Noise Texture -->
            <div
                class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 mix-blend-overlay">
            </div>
        </div>

        <div class="relative z-10 container mx-auto px-4 text-center">
            <div class="reveal active flex flex-col items-center">
                <span
                    class="inline-block py-1 px-3 rounded-full bg-bst-brand/10 border border-bst-brand/30 text-bst-brand text-sm font-medium mb-6 uppercase tracking-wider">
                    #1 Biosystem Technology Class
                </span>
                <h1
                    class="text-5xl md:text-7xl lg:text-8xl font-display font-bold text-white mb-6 tracking-tight leading-tight">
                    Master <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-bst-brand to-bst-alien">BST</span>
                    <br />
                    <span
                        class="block py-2 text-4xl md:text-6xl lg:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-bst-alien via-white to-bst-brand animate-pulse drop-shadow-[0_0_10px_rgba(34,197,94,0.5)]">
                        ජෛවපද්ධති තාක්ෂණවේදය
                    </span>
                    <span class="text-white text-3xl md:text-5xl">with Prabath Gamage</span>
                </h1>
                <p class="text-lg md:text-xl text-gray-400 mb-8 max-w-2xl mx-auto leading-relaxed">
                    Unlock your potential with the most comprehensive and results-oriented Tuition class for Advanced
                    Level Biosystem Technology.
                </p>

                <div class="flex flex-col md:flex-row gap-4 justify-center items-center w-full md:w-auto">
                    <a href="#classes"
                        class="group relative px-8 py-4 bg-bst-brand hover:bg-bst-alien text-black font-bold rounded-lg transition-all duration-300 flex items-center gap-2 w-full md:w-auto justify-center shadow-[0_0_20px_rgba(34,197,94,0.3)] hover:shadow-[0_0_30px_rgba(204,255,0,0.5)]">
                        <span>Start Learning</span>
                        <i data-lucide="chevron-right"
                            class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                    <a href="#about"
                        class="px-8 py-4 bg-white/5 hover:bg-white/10 text-white font-medium rounded-lg backdrop-blur-sm border border-white/10 transition-colors w-full md:w-auto flex justify-center items-center gap-2 group">
                        <span>Learn More</span>
                        <i data-lucide="arrow-down" class="w-4 h-4 group-hover:translate-y-1 transition-transform"></i>
                    </a>
                </div>
            </div>

            <!-- Floating Elements (Decoration) -->
            <div class="absolute -z-10 top-1/2 left-0 w-24 h-24 border border-bst-brand/20 rounded-full animate-float hidden md:block"
                style="left: 10%;"></div>
            <div class="absolute -z-10 bottom-20 right-0 w-32 h-32 border border-bst-alien/20 rounded-full animate-float hidden md:block"
                style="right: 10%; animation-delay: 1s;"></div>

            <!-- Floating "A/L" Popup Badge -->
            <div class="absolute top-16 right-4 md:right-6 lg:right-10 z-20 animate-float hidden md:block">
                <div
                    class="glass-panel p-4 rounded-xl border-2 border-white/20 shadow-[0_0_25px_rgba(204,255,0,0.3)] transform rotate-6 hover:rotate-0 transition-all duration-500 backdrop-blur-xl group cursor-default">
                    <h2 class="font-black text-center leading-none">
                        <span
                            class="block text-xl md:text-2xl mb-1 text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 animate-text-gradient font-display drop-shadow-sm group-hover:scale-110 transition-transform duration-300">අ.පො.ස</span>
                        <span
                            class="block text-3xl md:text-4xl text-transparent bg-clip-text bg-gradient-to-r from-bst-alien via-green-400 to-blue-500 animate-text-gradient drop-shadow-sm group-hover:scale-110 transition-transform duration-300 delay-75"
                            style="animation-duration: 5s;">උසස් පෙළ</span>
                    </h2>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-10 bg-bst-panel border-y border-white/5">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center divide-x divide-white/10">
                <div class="reveal">
                    <h3 class="text-3xl md:text-4xl font-bold text-white mb-1"><span class="counter"
                            data-target="10">0</span>+</h3>
                    <p class="text-gray-500 text-sm uppercase tracking-wider">Years Experience</p>
                </div>
                <div class="reveal" style="transition-delay: 100ms;">
                    <h3 class="text-3xl md:text-4xl font-bold text-bst-brand mb-1"><span class="counter"
                            data-target="500">0</span>+</h3>
                    <p class="text-gray-500 text-sm uppercase tracking-wider">A Passes</p>
                </div>
                <div class="reveal" style="transition-delay: 200ms;">
                    <h3 class="text-3xl md:text-4xl font-bold text-bst-alien mb-1"><span class="counter"
                            data-target="50">0</span>+</h3>
                    <p class="text-gray-500 text-sm uppercase tracking-wider">District Ranks</p>
                </div>
                <div class="reveal" style="transition-delay: 300ms;">
                    <h3 class="text-3xl md:text-4xl font-bold text-blue-400 mb-1">100%</h3>
                    <p class="text-gray-500 text-sm uppercase tracking-wider">Dedication</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-24 relative overflow-hidden">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div class="relative reveal">
                    <div
                        class="absolute inset-0 bg-gradient-to-tr from-bst-brand/20 to-transparent rounded-2xl transform rotate-3 scale-105">
                    </div>
                    <div
                        class="relative rounded-3xl shadow-2xl border-2 border-white/10 overflow-hidden w-full aspect-[3/4] group hover:scale-[1.02] hover:shadow-[0_20px_40px_-15px_rgba(34,197,94,0.3)] transition-all duration-700 hover:rotate-2">
                        <!-- Tutor Image -->
                        <img src="./images/tutor.jpg" alt="Prabath Gamage"
                            class="absolute inset-0 w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 animate-crossfade opacity-0">

                        <!-- Logo 1 -->
                        <img src="./images/logo.jpg" alt="BST Logo"
                            class="absolute inset-0 w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 animate-crossfade opacity-0"
                            style="animation-delay: 4s;">

                        <!-- Logo 2 -->
                        <img src="./images/logo1.jpeg" alt="BST Logo 2"
                            class="absolute inset-0 w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 animate-crossfade opacity-0"
                            style="animation-delay: 8s;">
                    </div>

                    <!-- Decorative Badge -->
                    <div
                        class="absolute -bottom-6 -right-6 bg-bst-panel p-4 rounded-xl border border-white/10 shadow-xl flex items-center gap-3">
                        <div class="bg-bst-brand/20 p-2 rounded-lg">
                            <i data-lucide="award" class="text-bst-brand w-6 h-6"></i>
                        </div>
                        <div>
                            <p class="text-white font-bold">Best BST Tutor</p>
                            <p class="text-xs text-gray-400">Award Winner</p>
                        </div>
                    </div>
                </div>

                <div class="reveal">
                    <h2 class="text-base text-bst-brand font-semibold tracking-wide uppercase mb-2">About The Teacher
                    </h2>
                    <h3 class="text-3xl md:text-5xl font-display font-bold text-white mb-6">Prabath Gamage</h3>
                    <p class="text-gray-400 text-lg mb-6 leading-relaxed">
                        With over a decade of teaching experience, Prabath Sir has revolutionized how Bisosytem
                        Technology is taught. His unique approach combines theoretical depth with practical application,
                        ensuring students not only pass exams but truly understand the subject.
                    </p>
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-start gap-3">
                            <i data-lucide="check-circle-2" class="text-bst-alien w-6 h-6 shrink-0 mt-1"></i>
                            <span class="text-gray-300">Expert guidance on complex biological systems and technology
                                applications.</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <i data-lucide="check-circle-2" class="text-bst-alien w-6 h-6 shrink-0 mt-1"></i>
                            <span class="text-gray-300">Structured lesson plans covering Theory, Revision, and Paper
                                discussions.</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <i data-lucide="check-circle-2" class="text-bst-alien w-6 h-6 shrink-0 mt-1"></i>
                            <span class="text-gray-300">Individual attention to identify and improve weak areas.</span>
                        </li>
                    </ul>
                    <a href="#classes"
                        class="text-white border-b border-bst-brand pb-1 hover:text-bst-brand transition-colors inline-flex items-center gap-2">
                        View Class Schedule <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Features / Classes Section -->
    <section id="classes" class="py-24 bg-bst-panel relative">
        <div class="absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"></div>
        <div class="container mx-auto px-4">
            <div class="text-center mb-16 reveal">
                <h2 class="text-3xl md:text-5xl font-display font-bold text-white mb-4">
                    Our Programs
                    <span class="block text-xl md:text-2xl text-bst-brand mt-2 font-sans">අපගේ පන්ති</span>
                </h2>
                <p class="text-gray-400 max-w-2xl mx-auto">Structured learning paths designed for maximum efficiency and
                    results.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Card 1 -->
                <div
                    class="glass-panel p-8 rounded-2xl hover:border-bst-brand/50 transition-all duration-300 group reveal flex flex-col h-full">
                    <div
                        class="w-14 h-14 bg-bst-brand/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-bst-brand/20 transition-colors">
                        <i data-lucide="book-open" class="w-8 h-8 text-bst-brand"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-3">
                        Theory Class
                        <span class="block text-lg text-bst-brand font-medium mt-1">සිද්ධාන්ත පන්තිය</span>
                    </h3>
                    <p class="text-gray-400 mb-6 line-clamp-3">Comprehensive coverage of the syllabus with detailed
                        notes and explanations. Perfect for building a strong foundation.</p>
                    <ul class="text-sm text-gray-400 space-y-2 mb-6 border-t border-white/10 pt-4 flex-grow">
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-bst-brand"></i>
                            Full Syllabus Coverage</li>
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-bst-brand"></i>
                            Printed Tutes</li>
                    </ul>
                    <button onclick="openModal()"
                        class="w-full py-3 rounded-lg bg-white/5 hover:bg-bst-brand hover:text-black font-medium transition-all duration-300 border border-white/10 group-hover:border-bst-brand/50">
                        Register Now
                    </button>
                </div>

                <!-- Card 2 -->
                <div class="glass-panel p-8 rounded-2xl border-bst-brand/30 bg-gradient-to-b from-bst-brand/5 to-transparent relative hover:border-bst-brand/50 transition-all duration-300 group reveal flex flex-col h-full"
                    style="transition-delay: 100ms;">
                    <div
                        class="absolute top-0 right-0 bg-bst-brand text-black text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-lg">
                        POPULAR</div>
                    <div
                        class="w-14 h-14 bg-bst-alien/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-bst-alien/20 transition-colors">
                        <i data-lucide="zap" class="w-8 h-8 text-bst-alien"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-3">
                        Revision + Paper
                        <span class="block text-lg text-bst-alien font-medium mt-1">පුනරීක්ෂණ සහ ප්‍රශ්න පත්‍ර
                            පන්තිය</span>
                    </h3>
                    <p class="text-gray-400 mb-6">Fast-tracked revision of key concepts combined with intensive past
                        paper discussions to boost exam readiness.</p>
                    <ul class="text-sm text-gray-400 space-y-2 mb-6 border-t border-white/10 pt-4 flex-grow">
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-bst-alien"></i>
                            20+ Past Papers</li>
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-bst-alien"></i>
                            Time Management Tips</li>
                    </ul>
                    <button onclick="openModal()"
                        class="w-full py-3 rounded-lg bg-bst-brand hover:bg-bst-alien text-black font-bold transition-all duration-300 shadow-lg shadow-bst-brand/20">
                        Register Now
                    </button>
                </div>

                <!-- Card 3 -->
                <div class="glass-panel p-8 rounded-2xl hover:border-bst-brand/50 transition-all duration-300 group reveal flex flex-col h-full"
                    style="transition-delay: 200ms;">
                    <div
                        class="w-14 h-14 bg-blue-500/10 rounded-xl flex items-center justify-center mb-6 group-hover:bg-blue-500/20 transition-colors">
                        <i data-lucide="users" class="w-8 h-8 text-blue-500"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-3">
                        Group Classes
                        <span class="block text-lg text-blue-500 font-medium mt-1">කණ්ඩාම් පන්ති</span>
                    </h3>
                    <p class="text-gray-400 mb-6">Small group sessions tailored for students who need extra attention
                        and personalized guidance.</p>
                    <ul class="text-sm text-gray-400 space-y-2 mb-6 border-t border-white/10 pt-4 flex-grow">
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-blue-500"></i>
                            Doubt Clearance</li>
                        <li class="flex items-center gap-2"><i data-lucide="check" class="w-4 h-4 text-blue-500"></i>
                            Flexible Timings</li>
                    </ul>
                    <button onclick="openModal()"
                        class="w-full py-3 rounded-lg bg-white/5 hover:bg-blue-500 hover:text-white font-medium transition-all duration-300 border border-white/10 group-hover:border-blue-500/50">
                        Register Now
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Student Portal Section (New) -->
    <section id="portal" class="py-24 relative overflow-hidden hidden">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-6">
                <div class="reveal">
                    <h2 class="text-3xl md:text-5xl font-display font-bold text-white mb-4">Student Dashboard</h2>
                    <p class="text-gray-400">Welcome back, <span id="student-name"
                            class="text-bst-brand font-bold">Student</span>! Your learning journey continues here.</p>
                </div>
                <button onclick="logout()"
                    class="px-6 py-2 bg-white/5 hover:bg-red-500/20 text-red-500 border border-red-500/30 rounded-lg transition-all flex items-center gap-2">
                    <i data-lucide="log-out" class="w-4 h-4"></i>
                    <span>Logout</span>
                </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Course Progress -->
                <div class="lg:col-span-2 space-y-8">
                    <div class="glass-panel p-8 rounded-2xl relative overflow-hidden group">
                        <div class="absolute top-0 right-0 p-4">
                            <span
                                class="px-3 py-1 bg-bst-brand/20 text-bst-brand text-xs font-bold rounded-full">ACTIVE</span>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-6">Continue Learning</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="space-y-4">
                                <div
                                    class="aspect-video rounded-xl bg-bst-dark overflow-hidden relative group-hover:scale-[1.02] transition-transform">
                                    <div class="absolute inset-0 flex items-center justify-center bg-black/40">
                                        <i data-lucide="play-circle" class="w-12 h-12 text-white opacity-80"></i>
                                    </div>
                                    <img src="./images/home_bg.png" class="w-full h-full object-cover blur-[1px]"
                                        alt="Video Thumbnail">
                                </div>
                                <div>
                                    <h4 class="font-bold text-white">Unit 04: Genetics & Evolution</h4>
                                    <p class="text-sm text-gray-400">Lecture 12: Mendelian Inheritance</p>
                                </div>
                            </div>
                            <div class="flex flex-col justify-center space-y-4">
                                <div>
                                    <div class="flex justify-between text-sm mb-2">
                                        <span class="text-gray-400">Course Progress</span>
                                        <span class="text-bst-brand">65%</span>
                                    </div>
                                    <div class="w-full bg-white/10 h-2 rounded-full overflow-hidden">
                                        <div class="bg-bst-brand h-full" style="width: 65%"></div>
                                    </div>
                                </div>
                                <button
                                    class="w-full py-3 bg-bst-brand text-black font-bold rounded-lg hover:bg-bst-alien transition-colors">
                                    Resume Lesson
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="grid sm:grid-cols-2 gap-6">
                        <div class="glass-panel p-6 rounded-2xl hover:border-bst-alien/50 transition-colors">
                            <i data-lucide="file-text" class="text-bst-alien w-8 h-8 mb-4"></i>
                            <h4 class="font-bold text-white mb-2">Download Tutes</h4>
                            <p class="text-sm text-gray-400 mb-4">Access limited edition study materials and pdf notes.
                            </p>
                            <button
                                class="text-bst-alien text-sm font-bold flex items-center gap-2 hover:translate-x-1 transition-transform">
                                View Files <i data-lucide="chevron-right" class="w-4 h-4"></i>
                            </button>
                        </div>
                        <div class="glass-panel p-6 rounded-2xl hover:border-blue-500/50 transition-colors">
                            <i data-lucide="help-circle" class="text-blue-500 w-8 h-8 mb-4"></i>
                            <h4 class="font-bold text-white mb-2">Paper Discussions</h4>
                            <p class="text-sm text-gray-400 mb-4">Watch video discussions for recent assessment papers.
                            </p>
                            <button
                                class="text-blue-500 text-sm font-bold flex items-center gap-2 hover:translate-x-1 transition-transform">
                                Access Videos <i data-lucide="chevron-right" class="w-4 h-4"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sidebar / Resources -->
                <div class="space-y-6">
                    <div class="glass-panel p-6 rounded-2xl border-bst-brand/20">
                        <h4 class="font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="bell" class="w-4 h-4 text-bst-brand"></i>
                            Announcements
                        </h4>
                        <div class="space-y-4">
                            <div class="p-3 bg-white/5 rounded-lg border-l-2 border-bst-brand">
                                <p class="text-xs text-bst-brand mb-1">Feb 15, 2024</p>
                                <p class="text-sm text-white font-medium">Monthly Assessment starts at 8:00 AM this
                                    Sunday.</p>
                            </div>
                            <div class="p-3 bg-white/5 rounded-lg border-l-2 border-gray-600">
                                <p class="text-xs text-gray-500 mb-1">Feb 10, 2024</p>
                                <p class="text-sm text-gray-300">New Revision Tutes uploaded for Unit 04.</p>
                            </div>
                        </div>
                    </div>

                    <div class="glass-panel p-6 rounded-2xl bg-gradient-to-br from-bst-brand/10 to-transparent">
                        <h4 class="font-bold text-white mb-2">Need Help?</h4>
                        <p class="text-sm text-gray-400 mb-4">Direct contact for support and doubts clearing.</p>
                        <a href="https://wa.me/94781048790"
                            class="flex items-center justify-center gap-2 py-3 bg-[#25D366] text-white rounded-lg font-bold">
                            <i data-lucide="message-circle" class="w-4 h-4"></i>
                            WhatsApp Mentor
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA / Contact -->
    <section id="cta" class="py-24 relative overflow-hidden text-center">
        <div class="absolute inset-0 bg-bst-brand/5"></div>
        <div class="container mx-auto px-4 relative z-10 reveal">
            <h2 class="text-4xl md:text-6xl font-display font-bold text-white mb-8">Ready to Excel in BST?</h2>
            <p class="text-xl text-gray-300 mb-10 max-w-2xl mx-auto">Join the class that produces the island's best
                results. Start your journey today.</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="https://wa.me/94781048790" target="_blank"
                    class="px-8 py-4 bg-bst-brand hover:bg-bst-alien text-black font-bold rounded-xl shadow-xl transition-all duration-300 hover:-translate-y-1 flex items-center justify-center gap-2">
                    <i data-lucide="message-circle" class="w-5 h-5"></i>
                    WhatsApp: 078 104 8790
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black border-t border-white/10 pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                <div>
                    <h3 class="text-2xl font-bold text-white mb-4">
                        <span class="text-bst-brand">BST</span> Academy
                    </h3>
                    <p class="text-gray-400 mb-6">
                        Empowering the next generation of technologists with expert guidance and proven teaching
                        methods.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-gray-400 hover:text-white hover:bg-bst-brand hover:text-black transition-all">
                            <i data-lucide="facebook" class="w-5 h-5"></i>
                        </a>
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-gray-400 hover:text-white hover:bg-red-600 hover:text-white transition-all">
                            <i data-lucide="youtube" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="text-lg font-bold text-white mb-6">Quick Links</h4>
                    <ul class="space-y-4 text-gray-400">
                        <li><a href="#" class="hover:text-bst-brand transition-colors">Home</a></li>
                        <li><a href="#about" class="hover:text-bst-brand transition-colors">About Prabath Sir</a></li>
                        <li><a href="#classes" class="hover:text-bst-brand transition-colors">Class Schedule</a></li>
                        <li><a href="#results" class="hover:text-bst-brand transition-colors">Student Results</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-lg font-bold text-white mb-6">Contact Us</h4>
                    <ul class="space-y-4 text-gray-400">
                        <li class="flex items-center gap-3">
                            <i data-lucide="phone" class="text-bst-brand w-5 h-5"></i>
                            <span>078 104 8790</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i data-lucide="mail" class="text-bst-brand w-5 h-5"></i>
                            <span>info@bstclasses.com</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <i data-lucide="map-pin" class="text-bst-brand w-5 h-5"></i>
                            <span>Online / Physical Classes</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div
                class="border-t border-white/10 pt-8 text-center text-gray-500 text-sm flex flex-col md:flex-row justify-between items-center gap-4">
                <p>&copy; 2024 Prabath Gamage. All rights reserved.</p>
                <p>Designed with <i data-lucide="heart" class="w-3 h-3 text-red-500 inline fill-red-500"></i> for
                    Education</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 z-[100] hidden" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <div class="fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity opacity-0" id="login-backdrop"></div>
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-2xl bg-bst-panel border border-white/10 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-md opacity-0 scale-95"
                    id="login-panel">
                    <div class="bg-bst-dark/50 px-6 py-6 border-b border-white/10 flex justify-between items-center">
                        <div>
                            <h3 class="text-2xl font-display font-bold text-white">Student Portal</h3>
                            <p class="text-sm text-gray-400 mt-1">Login to access your courses</p>
                        </div>
                        <button onclick="closeLoginModal()" class="text-gray-400 hover:text-white transition-colors">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                    </div>
                    <div class="p-8">
                        <form id="login-form" class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Username / Email</label>
                                <div class="relative">
                                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                                        <i data-lucide="user" class="w-4 h-4"></i>
                                    </span>
                                    <input type="text" id="login-user"
                                        class="w-full bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-3 text-white focus:border-bst-brand transition-all outline-none"
                                        placeholder="Enter your username">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-2">Password</label>
                                <div class="relative">
                                    <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">
                                        <i data-lucide="key" class="w-4 h-4"></i>
                                    </span>
                                    <input type="password" id="login-pass"
                                        class="w-full bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-3 text-white focus:border-bst-brand transition-all outline-none"
                                        placeholder="••••••••">
                                </div>
                            </div>
                            <div class="flex items-center justify-between text-xs">
                                <label class="flex items-center gap-2 text-gray-400 cursor-pointer">
                                    <input type="checkbox" class="accent-bst-brand"> Remember me
                                </label>
                                <a href="#" class="text-bst-brand hover:underline">Forgot Password?</a>
                            </div>
                            <button type="button" onclick="handleLoginSubmit()"
                                class="w-full py-4 bg-bst-brand hover:bg-bst-alien text-black font-bold rounded-xl shadow-lg transition-all transform hover:scale-[1.02]">
                                Sign In
                            </button>
                        </form>
                    </div>
                    <div class="px-8 py-4 bg-black/20 border-t border-white/5 text-center">
                        <p class="text-sm text-gray-500">Don't have an account? <a href="#"
                                onclick="closeLoginModal(); setTimeout(openModal, 300)"
                                class="text-bst-brand font-medium">Register Now</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Registration Modal -->
    <div id="registration-modal" class="fixed inset-0 z-[100] hidden" aria-labelledby="modal-title" role="dialog"
        aria-modal="true">
        <!-- Backdrop -->
        <div class="fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity opacity-0" id="modal-backdrop"></div>

        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <!-- Modal Panel -->
                <div class="relative transform overflow-hidden rounded-2xl bg-bst-panel border border-white/10 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-2xl opacity-0 scale-95"
                    id="modal-panel">

                    <!-- Header -->
                    <div
                        class="bg-bst-dark/50 px-4 py-4 sm:px-6 flex justify-between items-center border-b border-white/10">
                        <h3 class="text-xl font-display font-bold text-white flex items-center gap-2">
                            <i data-lucide="user-plus" class="text-bst-brand"></i>
                            Student Registration
                        </h3>
                        <button type="button" class="text-gray-400 hover:text-white transition-colors"
                            onclick="closeModal()">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                    </div>

                    <!-- Body -->
                    <div class="px-4 py-6 sm:p-6">
                        <form id="registration-form" class="space-y-6">
                            <!-- Personal Details Section -->
                            <div class="space-y-4">
                                <h4
                                    class="text-bst-brand text-sm font-bold uppercase tracking-wider mb-4 border-b border-white/10 pb-2">
                                    Personal Details</h4>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="firstName"
                                            class="block text-sm font-medium text-gray-300 mb-1">First Name</label>
                                        <input type="text" id="firstName" name="firstName" required
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                    </div>
                                    <div>
                                        <label for="lastName" class="block text-sm font-medium text-gray-300 mb-1">Last
                                            Name</label>
                                        <input type="text" id="lastName" name="lastName" required
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                    </div>
                                </div>

                                <div>
                                    <label for="address"
                                        class="block text-sm font-medium text-gray-300 mb-1">Address</label>
                                    <input type="text" id="address" name="address" required
                                        class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="mobile" class="block text-sm font-medium text-gray-300 mb-1">Mobile
                                            Number</label>
                                        <input type="tel" id="mobile" name="mobile" required
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                    </div>
                                    <div>
                                        <label for="whatsapp"
                                            class="block text-sm font-medium text-gray-300 mb-1">WhatsApp Number</label>
                                        <input type="tel" id="whatsapp" name="whatsapp" required
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                    </div>
                                </div>
                            </div>

                            <!-- Academic Details Section -->
                            <div class="space-y-4 pt-4">
                                <h4
                                    class="text-bst-alien text-sm font-bold uppercase tracking-wider mb-4 border-b border-white/10 pb-2">
                                    Academic Details</h4>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="school" class="block text-sm font-medium text-gray-300 mb-1">School
                                            Name</label>
                                        <input type="text" id="school" name="school" required
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                    </div>
                                    <div>
                                        <label for="district"
                                            class="block text-sm font-medium text-gray-300 mb-1">District</label>
                                        <select id="district" name="district"
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors">
                                            <option value="" disabled selected>Select District</option>
                                            <option value="Sinhala Districts" disabled
                                                class="font-bold text-gray-400 bg-bst-dark/80">-- Major Districts --
                                            </option>
                                            <option value="Colombo">Colombo</option>
                                            <option value="Gampaha">Gampaha</option>
                                            <option value="Kalutara">Kalutara</option>
                                            <option value="Kandy">Kandy</option>
                                            <option value="Matale">Matale</option>
                                            <option value="Nuwara Eliya">Nuwara Eliya</option>
                                            <option value="Galle">Galle</option>
                                            <option value="Matara">Matara</option>
                                            <option value="Hambantota">Hambantota</option>
                                            <option value="Kurunegala">Kurunegala</option>
                                            <option value="Puttalam">Puttalam</option>
                                            <option value="Anuradhapura">Anuradhapura</option>
                                            <option value="Polonnaruwa">Polonnaruwa</option>
                                            <option value="Badulla">Badulla</option>
                                            <option value="Monaragala">Monaragala</option>
                                            <option value="Ratnapura">Ratnapura</option>
                                            <option value="Kegalle">Kegalle</option>
                                            <option value="Ampara">Ampara</option>
                                            <option value="Trincomalee">Trincomalee</option>
                                            <option value="Batticaloa">Batticaloa</option>
                                            <option value="Jaffna">Jaffna</option>
                                            <option value="Kilinochchi">Kilinochchi</option>
                                            <option value="Mannar">Mannar</option>
                                            <option value="Vavuniya">Vavuniya</option>
                                            <option value="Mullaitivu">Mullaitivu</option>
                                            <option value="Other">Other</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <label for="examYear" class="block text-sm font-medium text-gray-300 mb-1">Year of
                                        Examination</label>
                                    <select id="examYear" name="examYear"
                                        class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors">
                                        <option value="2024">2024</option>
                                        <option value="2025">2025</option>
                                        <option value="2026">2026</option>
                                    </select>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="regEmail"
                                            class="block text-sm font-medium text-gray-300 mb-1">Account Email</label>
                                        <input type="email" id="regEmail" name="regEmail" required
                                            placeholder="example@gmail.com"
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                    </div>
                                    <div>
                                        <label for="regPassword"
                                            class="block text-sm font-medium text-gray-300 mb-1">Set Password</label>
                                        <input type="password" id="regPassword" name="regPassword" required
                                            placeholder="Minimum 6 chars"
                                            class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-bst-brand focus:ring-1 focus:ring-bst-brand transition-colors placeholder-gray-600">
                                    </div>
                                </div>
                            </div>

                            <!-- Payment Section -->
                            <div class="space-y-4 pt-4">
                                <h4
                                    class="text-blue-400 text-sm font-bold uppercase tracking-wider mb-4 border-b border-white/10 pb-2">
                                    Payment Gateway</h4>
                                <div class="grid grid-cols-2 gap-4">
                                    <label class="cursor-pointer">
                                        <input type="radio" name="paymentMethod" value="online" class="peer sr-only"
                                            checked onchange="togglePaymentDetails()">
                                        <div
                                            class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:border-bst-brand peer-checked:bg-bst-brand/10 transition-all text-center">
                                            <i data-lucide="credit-card"
                                                class="mx-auto mb-2 text-gray-400 peer-checked:text-bst-brand"></i>
                                            <span class="text-sm font-medium text-white">Pay Online</span>
                                        </div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="paymentMethod" value="bank" class="peer sr-only"
                                            onchange="togglePaymentDetails()">
                                        <div
                                            class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:border-bst-alien peer-checked:bg-bst-alien/10 transition-all text-center">
                                            <i data-lucide="landmark"
                                                class="mx-auto mb-2 text-gray-400 peer-checked:text-bst-alien"></i>
                                            <span class="text-sm font-medium text-white">Bank Transfer</span>
                                        </div>
                                    </label>
                                </div>

                                <!-- Bank Transfer Details (Hidden by default) -->
                                <div id="bank-details"
                                    class="hidden mt-6 p-4 rounded-xl bg-white/5 border border-white/10 animate-fade-in">
                                    <h5 class="text-bst-alien font-bold mb-3 flex items-center gap-2">
                                        <i data-lucide="info" class="w-4 h-4"></i> Bank Details
                                    </h5>
                                    <div class="space-y-2 text-sm text-gray-300 mb-4 bg-black/20 p-3 rounded-lg">
                                        <div class="flex justify-between">
                                            <span class="text-gray-400">Bank:</span>
                                            <span class="font-medium text-white">Sampath Bank PLC</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-400">Branch:</span>
                                            <span class="font-medium text-white">Dehiattakandiya Branch</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-400">Account No:</span>
                                            <span class="font-medium text-white font-mono tracking-wide">1167 5257
                                                6389</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-400">Account Name:</span>
                                            <span class="font-medium text-white">Prabath Gamage</span>
                                        </div>
                                    </div>

                                    <div class="space-y-2">
                                        <label class="block text-sm font-medium text-gray-300">Upload Payment
                                            Slip</label>
                                        <div class="relative">
                                            <input type="file" id="paymentSlip" name="paymentSlip" accept="image/*,.pdf"
                                                class="block w-full text-sm text-gray-400
                                                file:mr-4 file:py-2 file:px-4
                                                file:rounded-lg file:border-0
                                                file:text-sm file:font-semibold
                                                file:bg-bst-alien/10 file:text-bst-alien
                                                hover:file:bg-bst-alien/20
                                                cursor-pointer border border-white/10 rounded-lg bg-black/20 focus:outline-none focus:border-bst-alien transition-colors">
                                        </div>
                                        <p class="text-xs text-gray-500 mt-1">Accepted formats: JPG, PNG, PDF</p>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Footer -->
                    <div class="bg-bst-dark/50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse border-t border-white/10">
                        <button type="button" onclick="submitRegistration()"
                            class="w-full inline-flex justify-center rounded-lg border border-transparent bg-bst-brand px-4 py-2 text-base font-medium text-black shadow-sm hover:bg-bst-alien focus:outline-none focus:ring-2 focus:ring-bst-brand focus:ring-offset-2 focus:ring-offset-gray-900 sm:ml-3 sm:w-auto sm:text-sm transition-colors">
                            Pay & Register
                        </button>
                        <button type="button" onclick="closeModal()"
                            class="mt-3 w-full inline-flex justify-center rounded-lg border border-gray-600 bg-transparent px-4 py-2 text-base font-medium text-gray-300 shadow-sm hover:bg-white/5 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors">
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // UI Logic & Non-Module Functions
        lucide.createIcons();

        // Navbar & Menu
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        if (menuToggle && mobileMenu) {
            menuToggle.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        }

        // Scroll Reveal
        function reveal() {
            var reveals = document.querySelectorAll(".reveal");
            for (var i = 0; i < reveals.length; i++) {
                var windowHeight = window.innerHeight;
                var elementTop = reveals[i].getBoundingClientRect().top;
                if (elementTop < windowHeight - 150) reveals[i].classList.add("active");
            }
        }
        window.addEventListener("scroll", reveal);
        reveal();

        // Counters
        const animateCounters = () => {
            document.querySelectorAll('.counter').forEach(counter => {
                const updateCount = () => {
                    const target = +counter.getAttribute('data-target');
                    const count = +counter.innerText;
                    if (count < target) {
                        counter.innerText = Math.ceil(count + (target / 200));
                        setTimeout(updateCount, 20);
                    } else counter.innerText = target;
                };
                updateCount();
            });
        };

        let counterTriggered = false;
        window.addEventListener('scroll', () => {
            const stats = document.querySelector('.counter');
            if (stats && !counterTriggered && stats.getBoundingClientRect().top < window.innerHeight) {
                animateCounters();
                counterTriggered = true;
            }
        });

        // Modal Management
        const modal = document.getElementById('registration-modal');
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalPanel = document.getElementById('modal-panel');
        const loginModal = document.getElementById('login-modal');
        const loginBackdrop = document.getElementById('login-backdrop');
        const loginPanel = document.getElementById('login-panel');
        const registrationForm = document.getElementById('registration-form');

        window.openModal = () => {
            modal.classList.remove('hidden');
            setTimeout(() => {
                modalBackdrop.classList.remove('opacity-0');
                modalPanel.classList.add('opacity-100', 'scale-100');
            }, 10);
        };

        window.closeModal = () => {
            modalBackdrop.classList.add('opacity-0');
            modalPanel.classList.remove('opacity-100', 'scale-100');
            setTimeout(() => modal.classList.add('hidden'), 300);
        };

        window.openLoginModal = () => {
            loginModal.classList.remove('hidden');
            setTimeout(() => {
                loginBackdrop.classList.remove('opacity-0');
                loginPanel.classList.add('opacity-100', 'scale-100');
            }, 10);
        };

        window.closeLoginModal = () => {
            loginBackdrop.classList.add('opacity-0');
            loginPanel.classList.remove('opacity-100', 'scale-100');
            setTimeout(() => loginModal.classList.add('hidden'), 300);
        };

        window.togglePaymentDetails = () => {
            const method = document.querySelector('input[name="paymentMethod"]:checked').value;
            const bankDetails = document.getElementById('bank-details');
            method === 'bank' ? bankDetails.classList.remove('hidden') : bankDetails.classList.add('hidden');
        };

        function showDashboard(username) {
            document.querySelectorAll('section:not(#portal)').forEach(s => s.classList.add('hidden'));
            document.getElementById('portal').classList.remove('hidden');
            document.getElementById('student-name').innerText = username;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.showDashboard = showDashboard;
    </script>

    <script type="module">
        // Firebase Logic
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // CONFIGURATION: Paste your keys here from Firebase Project Settings
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Standard JS assignments for onclick handlers
        window.openLoginModal = openLoginModal;
        window.closeLoginModal = closeLoginModal;
        window.handleLoginSubmit = handleLoginSubmit;
        window.submitRegistration = submitRegistration;
        window.openModal = openModal;
        window.closeModal = closeModal;
        window.togglePaymentDetails = togglePaymentDetails;
        window.logout = logout;

        async function handleLoginSubmit() {
            const email = document.getElementById('login-user').value;
            const pass = document.getElementById('login-pass').value;

            if (firebaseConfig.apiKey === "YOUR_API_KEY") {
                alert("Setup Required: Please paste your Firebase keys in the code (line 1100).");
                return;
            }

            if (!email || !pass) {
                alert("Please enter both email and password.");
                return;
            }

            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, pass);
                const userDoc = await getDoc(doc(db, "students", userCredential.user.uid));

                if (userDoc.exists() && userDoc.data().status === "approved") {
                    window.showDashboard(userDoc.data().firstName);
                    window.closeLoginModal();
                } else {
                    await signOut(auth);
                    alert("Account PENDING APPROVAL. Please notify Sir via WhatsApp once you have paid.");
                }
            } catch (e) {
                alert("Login Error: " + e.message);
            }
        }

        async function submitRegistration() {
            if (firebaseConfig.apiKey === "YOUR_API_KEY") {
                alert("Setup Required: Please paste your Firebase keys in the code (line 1100).");
                return;
            }

            const btn = event.target;
            const original = btn.innerText;
            const fname = document.getElementById('firstName').value;
            const email = document.getElementById('regEmail').value;
            const pass = document.getElementById('regPassword').value;

            if (!email || !pass || !fname) {
                alert("Please fill in Name, Email, and Password.");
                return;
            }

            try {
                btn.disabled = true;
                btn.innerText = "Registering...";
                const cred = await createUserWithEmailAndPassword(auth, email, pass);
                await setDoc(doc(db, "students", cred.user.uid), {
                    uid: cred.user.uid,
                    firstName: fname,
                    email: email,
                    status: "pending",
                    createdAt: new Date().toISOString()
                });

                const msg = `*NEW STUDENT*%0A*Name:* ${fname}%0A*Email:* ${email}%0A*Status:* Waiting for Approval`;
                window.open(`https://wa.me/94781048790?text=${msg}`, '_blank');

                alert("Registration Successful! Account is PENDING APPROVAL.");
                window.closeModal();
            } catch (e) {
                alert("Error: " + e.message);
            } finally {
                btn.disabled = false;
                btn.innerText = original;
            }
        }

        async function logout() {
            await signOut(auth);
            window.location.reload();
        }

        // Expose to window
        window.handleLoginSubmit = handleLoginSubmit;
        window.submitRegistration = submitRegistration;
        window.logout = logout;

        // Close modal handle
        if (modalBackdrop) modalBackdrop.addEventListener('click', window.closeModal);
        if (loginBackdrop) loginBackdrop.addEventListener('click', window.closeLoginModal);
    </script>
</body>

</html>